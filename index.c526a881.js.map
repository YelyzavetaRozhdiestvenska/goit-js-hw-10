{"mappings":"YAAA,IAAMA,EAAM,+BACNC,EACJ,wEAgBK,SAASC,EAAgBC,GAC9B,OAAOC,MACL,GAAgCC,OAA7BL,EAAI,2BAA8CK,OAArBJ,EAAQ,eAAqBI,OAARF,IACrDG,MAAK,SAAAC,GACL,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,YAG3B,OAAOH,EAASI,M,ICxBpB,IAAMC,EAAO,CACXC,SAAUC,SAASC,cAAc,iBACjCC,WAAYF,SAASC,cAAc,aACnCE,OAAQH,SAASC,cAAc,WAC/BG,MAAOJ,SAASC,cAAc,WAIvB,SAAAI,EAAWC,GAClB,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAIE,OAAQD,GAAK,EAAG,CACtC,IAAIE,EAAQH,EAAIC,GAAGG,GACfC,EAAOL,EAAIC,GAAGK,KAEZC,EAAiBb,SAASc,cAAc,UAC9CD,EAAeJ,MAAQA,EACvBI,EAAeE,YAAcJ,EAC7Bb,EAAKC,SAASiB,YAAYH,E,EAwBhB,SAALI,EAAOX,GACd,IAAIY,EAASZ,EAAIa,KAAI,SAAAC,G,OAAQA,EAAKC,G,IAE9BC,EAAUhB,EAAIa,KAAI,SAAAI,G,OAAOA,EAAIC,OAAO,GAAGC,W,IAEvCC,EAAUpB,EAAIa,KAAI,SAAAI,G,OAAOA,EAAIC,OAAO,GAAGG,W,IAErCC,EAAS,6BACYrC,OADiB2B,EAAO,+CAExB3B,OADA+B,EAAQ,qCACA/B,OAARmC,EAAQ,QAEnC5B,EAAKI,WAAW2B,mBAAmB,YAAaD,E,CD9CzCtC,MAAM,GAAyBC,OAAtBL,EAAI,oBAA0BK,OAARJ,IAAWK,MAAK,SAAAC,GACpD,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASqC,QAG3B,OAAOrC,EAASI,M,ICefL,KAAKa,GACL0B,OAAM,SAAA3B,G,OAAS4B,QAAQC,IAAI7B,E,IAGhCN,EAAKC,SAASmC,iBAAiB,UA0B/B,WACE,IAAM7C,EAvBgBS,EAAKC,SAASoC,QAAQrC,EAAKC,SAASqC,eAC1B3B,MAwBdT,SAASC,cAAc,aAYxBoC,MAAMC,KAAKxC,EAAKI,WAAWqC,UAEnCC,SAAQ,SAAAC,GACf3C,EAAKI,WAAWwC,YAAYD,E,IAT9BrD,EAAgBC,GACbG,KAAKyB,GACLc,OAAM,SAAA3B,G,OAAS4B,QAAQC,IAAI7B,E","sources":["src/js/cat-api.js","src/index.js"],"sourcesContent":["const url = 'https://api.thecatapi.com/v1';\nconst API_KEY =\n  'live_9DXEg4Lh2chY88wyj3bubsvvhA1yqqWDwllwOi10UakXQykqShGzO9Gw8MyIBcsl';\n\n// Функція, яка виконує HTTP-запит  і повертає проміс із масивом порід\n\nexport function fetchBreeds() {\n  return fetch(`${url}/breeds?api_key=${API_KEY}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n}\n\n// Функція, яка виконує HTTP-запит по ідентифікатору породи  і повертає проміс із даними про кота\n\nexport function fetchCatByBreed(breedId) {\n  return fetch(\n    `${url}/images/search?api_key=${API_KEY}&breed_ids=${breedId}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n\n    return response.json();\n  });\n}\n","import { fetchBreeds, fetchCatByBreed } from './js/cat-api';\n\nconst refs = {\n  selector: document.querySelector('.breed-select'),\n  divCatInfo: document.querySelector('.cat-info'),\n  loader: document.querySelector('.loader'),\n  error: document.querySelector('.error'),\n};\n\n//створюємо options\nfunction getAllCats(arr) {\n  for (let i = 0; i < arr.length; i += 1) {\n    let value = arr[i].id;\n    let text = arr[i].name;\n\n    const optionsElement = document.createElement('option');\n    optionsElement.value = value;\n    optionsElement.textContent = text;\n    refs.selector.appendChild(optionsElement);\n  }\n}\n\naddCats();\n\n// робимо фетч та додаємо options\nfunction addCats() {\n  fetchBreeds()\n    .then(getAllCats)\n    .catch(error => console.log(error));\n}\n\nrefs.selector.addEventListener('change', createModalCat);\n\n// прослуховує селект\nfunction onSelectBreed() {\n  const selectedValue = refs.selector.options[refs.selector.selectedIndex];\n  const selecteId = selectedValue.value;\n\n  return selecteId;\n}\n\n//робить розмітку\nfunction markup(arr) {\n  let imgUrl = arr.map(link => link.url);\n\n  let catDesc = arr.map(cat => cat.breeds[0].description);\n\n  let catTemp = arr.map(cat => cat.breeds[0].temperament);\n\n  const markup = `<img class=\"cat-img\" src=\"${imgUrl}\" width=\"600\">\n    <p><b>Description: </b>${catDesc}</p>\n    <p><b>Temperament: </b>${catTemp}</p>`;\n\n  refs.divCatInfo.insertAdjacentHTML('beforeend', markup);\n}\n\n// додає розмітку з даними\nfunction createModalCat() {\n  const breedId = onSelectBreed();\n\n  const isContent = document.querySelector('.cat-img');\n\n  if (isContent) {\n    clearCatContent();\n  }\n\n  fetchCatByBreed(breedId)\n    .then(markup)\n    .catch(error => console.log(error));\n}\n\nfunction clearCatContent() {\n  const children = Array.from(refs.divCatInfo.children);\n\n  children.forEach(child => {\n    refs.divCatInfo.removeChild(child);\n  });\n}\n"],"names":["$8994e83c1b13b9e2$var$url","$8994e83c1b13b9e2$var$API_KEY","$8994e83c1b13b9e2$export$57b7d3a597416aa2","breedId","fetch","concat","then","response","ok","Error","statusText","json","$b8f9b7833fa37166$var$refs","selector","document","querySelector","divCatInfo","loader","error","$b8f9b7833fa37166$var$getAllCats","arr","i","length","value","id","text","name","optionsElement","createElement","textContent","appendChild","$b8f9b7833fa37166$var$markup","imgUrl","map","link","url","catDesc","cat","breeds","description","catTemp","temperament","markup1","insertAdjacentHTML","status","catch","console","log","addEventListener","options","selectedIndex","Array","from","children","forEach","child","removeChild"],"version":3,"file":"index.c526a881.js.map"}