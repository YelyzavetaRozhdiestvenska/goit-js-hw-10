{"mappings":"AAkBO,SAASA,EAAgBC,GAC9B,OAAOC,MACL,sIAAqDD,KACrDE,MAAKC,IACL,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,YAG3B,OAAOH,EAASI,MAAM,G,CCxB1B,MAAMC,EAAO,CACXC,SAAUC,SAASC,cAAc,iBACjCC,WAAYF,SAASC,cAAc,aACnCE,OAAQH,SAASC,cAAc,WAC/BG,MAAOJ,SAASC,cAAc,WAIvB,SAAAI,EAAWC,GAClB,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAIE,OAAQD,GAAK,EAAG,CACtC,IAAIE,EAAQH,EAAIC,GAAGG,GACfC,EAAOL,EAAIC,GAAGK,KAElB,MAAMC,EAAiBb,SAASc,cAAc,UAC9CD,EAAeJ,MAAQA,EACvBI,EAAeE,YAAcJ,EAC7Bb,EAAKC,SAASiB,YAAYH,E,EAwBhB,SAALI,EAAOX,GAOd,MAAMY,EAAS,6BANFZ,EAAIa,KAAIC,GAAQA,EAAKC,mDAEpBf,EAAIa,KAAIG,GAAOA,EAAIC,OAAO,GAAGC,iDAE7BlB,EAAIa,KAAIG,GAAOA,EAAIC,OAAO,GAAGE,oBAM3C3B,EAAKI,WAAWwB,mBAAmB,YAAaR,E,CD9CzC3B,MAAM,qHAAoCC,MAAKC,IACpD,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASkC,QAG3B,OAAOlC,EAASI,MAAM,ICerBL,KAAKa,GACLuB,OAAMxB,GAASyB,QAAQC,IAAI1B,KAGhCN,EAAKC,SAASgC,iBAAiB,UA0B/B,WACE,MAAMzC,EAxBS,WACf,MAAM0C,EAAgBlC,EAAKC,SAASkC,QAAQnC,EAAKC,SAASmC,eAG1D,OAFkBF,EAAcvB,K,CAsBhB0B,GAEEnC,SAASC,cAAc,aAYxBmC,MAAMC,KAAKvC,EAAKI,WAAWoC,UAEnCC,SAAQC,IACf1C,EAAKI,WAAWuC,YAAYD,EAAM,IATpCnD,EAAgBC,GACbE,KAAKyB,GACLW,OAAMxB,GAASyB,QAAQC,IAAI1B,I","sources":["src/js/cat-api.js","src/index.js"],"sourcesContent":["const url = 'https://api.thecatapi.com/v1';\nconst API_KEY =\n  'live_9DXEg4Lh2chY88wyj3bubsvvhA1yqqWDwllwOi10UakXQykqShGzO9Gw8MyIBcsl';\n\n// Функція, яка виконує HTTP-запит  і повертає проміс із масивом порід\n\nexport function fetchBreeds() {\n  return fetch(`${url}/breeds?api_key=${API_KEY}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n}\n\n// Функція, яка виконує HTTP-запит по ідентифікатору породи  і повертає проміс із даними про кота\n\nexport function fetchCatByBreed(breedId) {\n  return fetch(\n    `${url}/images/search?api_key=${API_KEY}&breed_ids=${breedId}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n\n    return response.json();\n  });\n}\n","import { fetchBreeds, fetchCatByBreed } from './js/cat-api';\n\nconst refs = {\n  selector: document.querySelector('.breed-select'),\n  divCatInfo: document.querySelector('.cat-info'),\n  loader: document.querySelector('.loader'),\n  error: document.querySelector('.error'),\n};\n\n//створюємо options\nfunction getAllCats(arr) {\n  for (let i = 0; i < arr.length; i += 1) {\n    let value = arr[i].id;\n    let text = arr[i].name;\n\n    const optionsElement = document.createElement('option');\n    optionsElement.value = value;\n    optionsElement.textContent = text;\n    refs.selector.appendChild(optionsElement);\n  }\n}\n\naddCats();\n\n// робимо фетч та додаємо options\nfunction addCats() {\n  fetchBreeds()\n    .then(getAllCats)\n    .catch(error => console.log(error));\n}\n\nrefs.selector.addEventListener('change', createModalCat);\n\n// прослуховує селект\nfunction onSelectBreed() {\n  const selectedValue = refs.selector.options[refs.selector.selectedIndex];\n  const selecteId = selectedValue.value;\n\n  return selecteId;\n}\n\n//робить розмітку\nfunction markup(arr) {\n  let imgUrl = arr.map(link => link.url);\n\n  let catDesc = arr.map(cat => cat.breeds[0].description);\n\n  let catTemp = arr.map(cat => cat.breeds[0].temperament);\n\n  const markup = `<img class=\"cat-img\" src=\"${imgUrl}\" width=\"600\">\n    <p><b>Description: </b>${catDesc}</p>\n    <p><b>Temperament: </b>${catTemp}</p>`;\n\n  refs.divCatInfo.insertAdjacentHTML('beforeend', markup);\n}\n\n// додає розмітку з даними\nfunction createModalCat() {\n  const breedId = onSelectBreed();\n\n  const isContent = document.querySelector('.cat-img');\n\n  if (isContent) {\n    clearCatContent();\n  }\n\n  fetchCatByBreed(breedId)\n    .then(markup)\n    .catch(error => console.log(error));\n}\n\nfunction clearCatContent() {\n  const children = Array.from(refs.divCatInfo.children);\n\n  children.forEach(child => {\n    refs.divCatInfo.removeChild(child);\n  });\n}\n"],"names":["$c4ebbd28ee7007ee$export$57b7d3a597416aa2","breedId","fetch","then","response","ok","Error","statusText","json","$1f0dc3b9307be026$var$refs","selector","document","querySelector","divCatInfo","loader","error","$1f0dc3b9307be026$var$getAllCats","arr","i","length","value","id","text","name","optionsElement","createElement","textContent","appendChild","$1f0dc3b9307be026$var$markup","markup1","map","link","url","cat","breeds","description","temperament","insertAdjacentHTML","status","catch","console","log","addEventListener","selectedValue","options","selectedIndex","$1f0dc3b9307be026$var$onSelectBreed","Array","from","children","forEach","child","removeChild"],"version":3,"file":"index.12773d61.js.map"}